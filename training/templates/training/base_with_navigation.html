{% extends 'training/base.html' %}

{% import 'common/components.html' as components %}

{% block bodyclasses %}
    {{ super() }}
    has-nav-drawer
    nav-drawer-wide
    has-secondary-nav
    nav-drawer-open
{% endblock bodyclasses %}

{% block nav_drawer %}
    {% call components.nav_drawer() %}
        {{ components.nav_drawer_header(title=training.name, subtitle=training.type.label) }}
        {% call components.nav_drawer_group() %}
            {{ components.nav_drawer_section(
				title='About this training',
				href=navigation.training_url
			) }}
        {% endcall %}

        {% for chapter_navigation in navigation.chapters %}
            {% call components.nav_drawer_collapsable_group(
				id='nav-' + chapter_navigation.slug,
				title=chapter_navigation.name
			) %}
                {% for section_navigation in chapter_navigation.sections %}
                    {{ components.nav_drawer_progress_section(
						title=section_navigation.name,
						href=section_navigation.url,
						started=section_navigation.started,
						finished=section_navigation.finished
					) }}
                {% endfor %}
            {% endcall %}
        {% endfor %}

    {% endcall %}
{% endblock nav_drawer %}
