[uwsgi]
uid             = {{ user }}
gid             = {{ group }}
pidfile         = {{ uwsgi_pid }}
env             = DJANGO_SETTINGS_MODULE={{ django_settings_module }}
env             = LANG=en_US.UTF-8

# Django-related settings
# the base directory (full path)
chdir           = {{ dir.source }}
# Django's wsgi file
module          = {{ uwsgi_module }}
plugin          = python3
# the virtualenv (full path)
virtualenv      = {{ dir.source }}/.venv/

buffer-size     = 32768
max-requests    = 5000

# process-related settings
master          = true
# maximum number of worker processes
processes       = 4
# the socket (use the full path to be safe
socket          = {{ uwsgi_socket|replace('unix://', '') }}
# ... with appropriate permissions - may be needed
chmod-socket    = 660
# clear environment on exit
vacuum          = true
# silence "OSError: write error" generated by timing out clients
disable-write-exception = true
# running behind a proxy_pass, X-FORWARDED-FOR is the "real" IP address that should be logged
log-x-forwarded-for     = true
# disable request logging: web server in front of uWSGI does this job better
disable-logging = true
