{% macro breadcrumbs() %}
    <ol class="breadcrumb">
        {{ caller() }}
    </ol>
{% endmacro %}

{% macro breadcrumb(label, url=None) %}
    <li class="breadcrumb-item">
        {% if url is not none %}
            <a href="{{ url }}">{{ label }}</a>
        {% else %}
            {{ label }}
        {% endif %}
    </li>
{% endmacro %}

{% macro cards() %}
    <div class="row">
        {{ caller() }}
    </div>
{% endmacro %}

{% macro pills(class=[]) %}
    <div class="pills {{ class|join(' ') }}">
        {{ caller() }}
    </div>
{% endmacro %}

{% macro pill(label, url=None) %}
    {% if url is none %}
	<p class="badge badge-pill">{{ label }}</p>
    {% else %}
    <a class="badge badge-pill" href="{{ url }}">{{ label }}</a>
    {% endif %}
{% endmacro %}

{% macro jumbotron() %}
    {% set image_placeholder = static('training/images/placeholders/jumbotron.png') %}
    <div style="background-image:url('{{ image_placeholder }}')"
         class="jumbotron jumbotron-fluid jumbotron-overlay header">
        <div class="container">
            <div class="row">
                <div class="col-lg-5 col-xl-4">
                    <div class="jumbotron-body">
                        {{ caller() }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}

{% macro searchbar(placeholder) %}
    <div class="input-group">
        <div class="input-group-prepend"><span class="input-group-text"><i class="material-icons">search</i></span>
        </div>
        <input type="text" placeholder="{{ placeholder }}" class="form-control">
    </div>
{% endmacro %}

{% macro select() %}
    <select class="custom-select">
        {{ caller() }}
    </select>
{% endmacro %}

{% macro video_player(url, progress_url, start_position) %}
    <div class="video-player" data-progress-url="{{ progress_url }}"
         {% if start_position is not none %}data-start-position="{{ start_position }}{% endif %}">
        <video playsinline controls>
            <source src="{{ url }}">
        </video>
    </div>
{% endmacro %}

{% macro checkbox_toggle(checked) %}
    <div class="col-md-auto text-right">
        <div class="form-group">
            <label class="form-group form-switch">
                {% if checked %}
                    <input type="checkbox" class="form-check-input" checked="checked">
                {% else %}
                    <input type="checkbox" class="form-check-input">
                {% endif %}
                <span class="slider"></span>
            </label>
        </div>
    </div>
{% endmacro %}

{% macro nav_drawer() %}
    <nav class="nav-drawer">
        <div class="nav-drawer-spacer">
        </div>
        <div class="nav-drawer-body">
            {{ caller() }}
        </div>
        <div class="drawer-overlay"></div>
    </nav>
{% endmacro %}

{% macro nav_drawer_header(title, subtitle=None) %}
    <div class="training-nav-header">
        {% if subtitle is not none %}<p class="subtitle">{{ subtitle }}</p>{% endif %}
        <h2>{{ title }}</h2>
    </div>
{% endmacro %}

{% macro nav_drawer_group() %}
    <div class="training-nav-group">
        <ol class="training-nav-list">
            {{ caller() }}
        </ol>
    </div>
{% endmacro %}

{% macro nav_drawer_collapsable_group(id, title, collapsed) %}
    <div class="training-nav-group">
        <h3 class="training-nav-dropdown {% if collapsed %}collapsed{% endif %}"
            data-toggle="collapse" data-target="#{{ id }}">
            <i class="material-icons">expand_less</i>
            {{ title }}
        </h3>
        <ol id="{{ id }}" class="training-nav-list collapse {% if not collapsed %}show{% endif %}">
            {{ caller() }}
        </ol>
    </div>
{% endmacro %}

{% macro nav_drawer_section(title, href, active, admin_change_href=None) %}
    <li class="training-nav-section">
        <a href="{{ href }}" class="training-nav-section-link {% if active %}active{% endif %}">
            <div class="training-nav-section-icon">
                <i class="material-icons">insert_drive_file</i>
                <svg width="30" height="30"
                     class="training-nav-section-icon-progress">
                    <circle cx="15" cy="15" r="14"/>
                </svg>
            </div>
            <div>
                <h4>{{ title }}</h4>
            </div>
        </a>
        {% if admin_change_href is not none %}
            <a href="{{ admin_change_href }}">edit</a>
        {% endif %}
    </li>
{% endmacro %}

{% macro nav_drawer_progress_section(title, href, active, started, finished, progress_fraction, admin_change_href=None) %}
    <li class="training-nav-section {% if finished %}complete{% endif %}">
        <a href="{{ href }}" class="training-nav-section-link {% if active %}active{% endif %}">
            <div class="training-nav-section-icon">

                {% if finished %}
                    <i class="material-icons">done</i>
                {% else %}
                    <i class="material-icons">play_arrow</i>
                {% endif %}

                <svg width="30" height="30"
                     class="training-nav-section-icon-progress"
                     style="--progress-fraction: {{ 1.0 if finished else progress_fraction }}">
                    <circle cx="15" cy="15" r="14"/>
                </svg>
            </div>
            <div>
                <h4>{{ title }}</h4>
            </div>
        </a>
        {% if admin_change_href is not none %}
            <a href="{{ admin_change_href }}">edit</a>
        {% endif %}
    </li>
{% endmacro %}
